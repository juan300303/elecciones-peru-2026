
<!DOCTYPE html>
<html lang="es" class="">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Noticias - Elecciones Per√∫ 2026</title>
    <!-- Theme detection script - runs before page renders to prevent flash -->
    <script>
      (function() {
        const isDarkMode = localStorage.getItem('color-theme') === 'dark' || 
                           (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches);
        if (isDarkMode) {
          document.documentElement.classList.add('dark');
        }
      })();
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              primary: '#DC2626',
              secondary: '#1D4ED8',
              dark: {
                bg: '#111827',
                'bg-secondary': '#1F2937',
                text: '#F9FAFB',
                'text-secondary': '#9CA3AF',
              },
              light: {
                 bg: '#F9FAFB',
                'bg-secondary': '#FFFFFF',
                text: '#111827',
                'text-secondary': '#4B5563',
              }
            },
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            }
          }
        }
      }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
  </head>
  <body class="bg-light-bg dark:bg-dark-bg text-light-text dark:text-dark-text font-sans transition-colors duration-300">
    
    <header class="bg-light-bg-secondary/80 dark:bg-dark-bg-secondary/80 backdrop-blur-sm sticky top-0 z-50 shadow-md">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-20">
          <div class="flex-shrink-0">
            <a href="index.html" class="flex flex-col items-start">
              <span class="font-bold text-xl text-primary tracking-tight">ELECCIONES PER√ö 2026</span>
              <span class="text-xs text-light-text-secondary dark:text-dark-text-secondary">Inf√≥rmate Per√∫</span>
            </a>
          </div>
          
          <nav class="hidden md:flex md:items-center md:space-x-8">
            <a href="index.html" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Inicio</a>
            <a href="calendario.html" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Calendario</a>
            <a href="candidatos.html" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Candidatos</a>
            <a href="partido-politico.html" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Partido Pol√≠tico</a>
            <a href="noticias.html" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Noticias</a>
            <a href="#" class="text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-primary dark:hover:text-primary transition-colors">Idioma</a>
          </nav>

          <div class="flex items-center">
             <button id="theme-toggle" type="button" class="p-2 rounded-full text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" aria-label="Toggle dark mode">
                <svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>
                <svg id="theme-toggle-light-icon" class="hidden w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
            </button>
            <div class="md:hidden ml-2">
              <button id="mobile-menu-button" type="button" class="p-2 rounded-md text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700" aria-controls="mobile-menu" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div class="hidden md:hidden" id="mobile-menu">
        <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
          <a href="index.html" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Inicio</a>
          <a href="calendario.html" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Calendario</a>
          <a href="candidatos.html" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Candidatos</a>
          <a href="partido-politico.html" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Partido Pol√≠tico</a>
          <a href="noticias.html" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Noticias</a>
          <a href="#" class="block px-3 py-2 rounded-md text-base font-medium text-light-text-secondary dark:text-dark-text-secondary hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-primary dark:hover:text-primary transition-colors">Idioma</a>
        </div>
      </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <section aria-labelledby="news-heading" class="max-w-7xl mx-auto">
        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
          <div class="flex-1">
            <h1 id="news-heading" class="text-3xl lg:text-4xl font-bold">Noticias</h1>
            <p class="text-sm mt-1 text-light-text-secondary dark:text-dark-text-secondary">√öltimas novedades sobre el proceso electoral.</p>
          </div>

          <div class="w-full lg:w-1/2">
            <label for="search-news" class="sr-only">Buscar noticias</label>
            <div class="relative">
              <input id="search-news" type="search" placeholder="Buscar en titulares y descripciones..." class="w-full rounded-md border border-gray-200 dark:border-gray-700 px-4 py-2 pr-12 bg-white dark:bg-dark-bg-secondary text-sm focus:outline-none focus:ring-2 focus:ring-primary" />
              <button type="button" class="absolute right-2 top-1/2 -translate-y-1/2 text-light-text-secondary dark:text-dark-text-secondary hover:text-primary" aria-label="Buscar">
                üîé
              </button>
            </div>
          </div>
        </div>

        <!-- Filters -->
        <div class="mt-6 flex items-center gap-3">
          <div class="inline-flex rounded-md shadow-sm" role="tablist" aria-label="Filtros de noticias">
            <button type="button" data-filter="all" class="filter-btn px-4 py-2 rounded-l-md border border-gray-200 dark:border-gray-700 bg-primary text-white hover:opacity-90 focus:outline-none" aria-pressed="true">Todas</button>
            <button type="button" data-filter="oficial" class="filter-btn px-4 py-2 border-t border-b border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none">üèõÔ∏è Oficial</button>
            <button type="button" data-filter="medios" class="filter-btn px-4 py-2 rounded-r-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none">üì¢ Medios</button>
          </div>
        </div>

        <!-- News list (rendered dynamically) -->
        <section class="mt-8 grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2" id="news-list">
          <!-- Cards will be injected here by JS -->
        </section>

        <!-- Pagination -->
        <div class="mt-8 flex items-center justify-center gap-3">
          <button type="button" id="page-prev" class="page-btn px-4 py-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none">‚Äπ Anterior</button>
          <div class="inline-flex items-center space-x-2" role="navigation" aria-label="Paginaci√≥n">
            <button type="button" class="page-number px-3 py-2 rounded-md bg-primary text-white" data-page="1" aria-current="page">1</button>
            <button type="button" class="page-number px-3 py-2 rounded-md bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text" data-page="2">2</button>
            <button type="button" class="page-number px-3 py-2 rounded-md bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text" data-page="3">3</button>
          </div>
          <button type="button" id="page-next" class="page-btn px-4 py-2 rounded-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-bg-secondary text-light-text dark:text-dark-text hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none">Siguiente ‚Ä∫</button>
        </div>
      </section>
    </main>

    <footer class="text-light-text-secondary dark:text-dark-text-secondary">
        <div class="bg-gray-200 dark:bg-gray-800 py-12">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                <div class="mt-12 border-t border-gray-300 dark:border-gray-700 pt-8 flex flex-col sm:flex-row justify-between items-center">
                     <p class="text-sm mb-4 sm:mb-0">&copy; 2025 Elecciones Per√∫ 2026. Todos los derechos reservados.</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
      // Full dynamic behavior: render newsData (static array), real search filtering, real filters (oficial/medios), and pagination (6 items/page)
      document.addEventListener('DOMContentLoaded', function(){
        const newsList = document.getElementById('news-list');
        const searchInput = document.getElementById('search-news');
        const filterBtns = Array.from(document.querySelectorAll('.filter-btn'));
        const pagePrev = document.getElementById('page-prev');
        const pageNext = document.getElementById('page-next');
        const pageNumbers = Array.from(document.querySelectorAll('.page-number'));

        // Static predefined news (18 items) ‚Äî sourceType: 'oficial' | 'medio'
        const newsData = [
          {id:1, source:'ONPE', badge:'üèõÔ∏è ONPE', date:'2025-11-15', title:'Publican cronogramas oficiales para el proceso electoral 2026', desc:'La ONPE ha publicado el cronograma oficial que detalla las fechas clave para inscripci√≥n, campa√±a y jornada de votaci√≥n.', url:'https://www.onpe.gob.pe', sourceType:'oficial'},
          {id:2, source:'JNE', badge:'üèõÔ∏è JNE', date:'2025-11-12', title:'Actualizaciones en normas y procedimientos electorales', desc:'El JNE comunica ajustes en los procedimientos para mejora de transparencia y control del proceso electoral.', url:'https://www.jne.gob.pe', sourceType:'oficial'},
          {id:3, source:'EL COMERCIO', badge:'üì¢ EL COMERCIO', date:'2025-11-10', title:'Debate en agenda: principales propuestas de los candidatos', desc:'An√°lisis de propuestas sobre econom√≠a, salud y educaci√≥n tras el primer debate nacional.', url:'https://elcomercio.pe', sourceType:'medio'},
          {id:4, source:'EL COMERCIO', badge:'üì¢ EL COMERCIO', date:'2025-11-08', title:'Protocolos de bioseguridad para la jornada de votaci√≥n', desc:'Recomendaciones y medidas adoptadas por las autoridades para garantizar la seguridad sanitaria durante el d√≠a de votaci√≥n.', url:'https://elcomercio.pe', sourceType:'medio'},
          {id:5, source:'ONPE', badge:'üèõÔ∏è ONPE', date:'2025-11-05', title:'Capacitaci√≥n a miembros de mesa: calendario y recursos', desc:'La ONPE publica materiales y fechas para la capacitaci√≥n dirigida a los miembros de mesa en todo el pa√≠s.', url:'https://www.onpe.gob.pe', sourceType:'oficial'},
          {id:6, source:'LA REP√öBLICA', badge:'üì¢ LA REP√öBLICA', date:'2025-11-03', title:'An√°lisis de propuestas: impacto en pol√≠tica social', desc:'Expertos discuten la viabilidad y costo de las nuevas propuestas en educaci√≥n y salud presentadas por los candidatos.', url:'https://larepublica.pe', sourceType:'medio'},
          {id:7, source:'JNE', badge:'üèõÔ∏è JNE', date:'2025-11-01', title:'Procedimientos de votaci√≥n: instrucciones actualizadas', desc:'El JNE publica gu√≠as que explican los procedimientos para el votante y los funcionarios electorales durante la jornada.', url:'https://www.jne.gob.pe', sourceType:'oficial'},
          {id:8, source:'RPP', badge:'üì¢ RPP', date:'2025-10-28', title:'Actualizaciones de organismos electorales y seguimiento de procesos', desc:'Resumen de las √∫ltimas comunicaciones emitidas por ONPE y JNE sobre cronogramas y auditor√≠as.', url:'https://rpp.pe', sourceType:'medio'},
          {id:9, source:'LA REP√öBLICA', badge:'üì¢ LA REP√öBLICA', date:'2025-10-25', title:'Presentaci√≥n de candidatos: perfiles y planes de gobierno', desc:'Resumen de la presentaci√≥n de los principales candidatos y sus ejes program√°ticos para la campa√±a.', url:'https://larepublica.pe', sourceType:'medio'},
          {id:10, source:'ONPE', badge:'üèõÔ∏è ONPE', date:'2025-10-22', title:'Protocolos y seguridad en centros de votaci√≥n', desc:'Medidas y protocolos de seguridad que se implementar√°n en los centros de votaci√≥n.', url:'https://www.onpe.gob.pe', sourceType:'oficial'},
          {id:11, source:'EL COMERCIO', badge:'üì¢ EL COMERCIO', date:'2025-10-20', title:'Debates: fechas confirmadas entre los principales candidatos', desc:'El cronograma de debates ha sido confirmado y se presentan los formatos y moderadores.', url:'https://elcomercio.pe', sourceType:'medio'},
          {id:12, source:'JNE', badge:'üèõÔ∏è JNE', date:'2025-10-18', title:'Procesos de capacitaci√≥n y verificaci√≥n de voluntarios', desc:'Informaci√≥n sobre la capacitaci√≥n y verificaci√≥n de los miembros que apoyar√°n en la jornada electoral.', url:'https://www.jne.gob.pe', sourceType:'oficial'},
          {id:13, source:'RPP', badge:'üì¢ RPP', date:'2025-10-15', title:'An√°lisis: propuestas de seguridad ciudadana en campa√±a', desc:'Debates sobre las propuestas en materia de seguridad y su factibilidad presupuestal.', url:'https://rpp.pe', sourceType:'medio'},
          {id:14, source:'ONPE', badge:'üèõÔ∏è ONPE', date:'2025-10-12', title:'Procedimientos de escrutinio y actas de votaci√≥n', desc:'Explicaci√≥n oficial sobre c√≥mo se realizar√° el escrutinio y registro de actas durante la jornada.', url:'https://www.onpe.gob.pe', sourceType:'oficial'},
          {id:15, source:'LA REP√öBLICA', badge:'üì¢ LA REP√öBLICA', date:'2025-10-08', title:'Impacto de propuestas econ√≥micas en el presupuesto p√∫blico', desc:'An√°lisis sobre el impacto fiscal de las propuestas econ√≥micas m√°s relevantes.', url:'https://larepublica.pe', sourceType:'medio'},
          {id:16, source:'EL COMERCIO', badge:'üì¢ EL COMERCIO', date:'2025-10-05', title:'Procedimientos de votaci√≥n: gu√≠a r√°pida para electores', desc:'Gu√≠a pr√°ctica con los pasos que debe seguir cada elector en el lugar de votaci√≥n.', url:'https://elcomercio.pe', sourceType:'medio'},
          {id:17, source:'JNE', badge:'üèõÔ∏è JNE', date:'2025-10-02', title:'Actualizaci√≥n sobre fiscalizaci√≥n de campa√±a', desc:'El JNE informa sobre nuevas medidas de fiscalizaci√≥n y control del financiamiento de campa√±as.', url:'https://www.jne.gob.pe', sourceType:'oficial'},
          {id:18, source:'ONPE', badge:'üèõÔ∏è ONPE', date:'2025-09-28', title:'Registro y verificaci√≥n de mesas de votaci√≥n', desc:'√öltimos pasos y verificaciones previas a la instalaci√≥n de mesas de votaci√≥n en todo el pa√≠s.', url:'https://www.onpe.gob.pe', sourceType:'oficial'}
        ];

        // Pagination state
        const itemsPerPage = 6; // 6 items per page -> 3 pages
        let currentPage = 1;
        let currentFilter = 'all';
        let currentQuery = '';

        // Helpers
        function matchesFilter(item){
          if(currentFilter === 'all') return true;
          if(currentFilter === 'oficial') return item.sourceType === 'oficial';
          if(currentFilter === 'medios') return item.sourceType === 'medio';
          return true;
        }

        function matchesQuery(item){
          if(!currentQuery) return true;
          const q = currentQuery.toLowerCase();
          return (item.title + ' ' + item.desc + ' ' + item.source).toLowerCase().includes(q);
        }

        function getFiltered(){
          return newsData.filter(item => matchesFilter(item) && matchesQuery(item));
        }

        function render(){
          const all = getFiltered();
          const total = all.length;
          const totalPages = Math.max(1, Math.ceil(total / itemsPerPage));
          // clamp currentPage
          if(currentPage > totalPages) currentPage = totalPages;
          if(currentPage < 1) currentPage = 1;

          // slice items for page
          const start = (currentPage - 1) * itemsPerPage;
          const pageItems = all.slice(start, start + itemsPerPage);

          // render
          newsList.innerHTML = '';
          if(pageItems.length === 0){
            newsList.innerHTML = '<p class="text-center text-light-text-secondary dark:text-dark-text-secondary">No se encontraron noticias.</p>';
          } else {
            pageItems.forEach(item => {
              const art = document.createElement('article');
              art.className = 'news-card p-4 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-bg-secondary hover:shadow-lg transition-transform hover:-translate-y-0.5';
              art.innerHTML = `
                <div class="flex items-start justify-between">
                  <span class="text-sm font-semibold">${item.badge}</span>
                  <span class="text-xs text-light-text-secondary dark:text-dark-text-secondary">${item.date}</span>
                </div>
                <h2 class="mt-3 text-lg font-semibold leading-tight">${item.title}</h2>
                <p class="mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary">${item.desc}</p>
                <div class="mt-4">
                  <a class="inline-flex items-center gap-2 text-sm font-medium text-primary hover:underline" href="${item.url}" target="_blank" rel="noopener">üìñ Ver noticia completa</a>
                </div>
              `;
              newsList.appendChild(art);
            });
          }

          // update pagination UI (pages 1..3 fixed visual)
          // enable/disable prev/next
          if(pagePrev) pagePrev.disabled = currentPage === 1;
          if(pageNext) pageNext.disabled = currentPage === totalPages;

          // update page buttons (show up to 3 pages) ‚Äî we keep 1..3 as visible buttons
          pageNumbers.forEach(btn => {
            const p = Number(btn.dataset.page || btn.textContent.trim());
            if(p === currentPage){
              btn.classList.add('bg-primary','text-white');
              btn.classList.remove('bg-white');
              btn.setAttribute('aria-current','page');
            } else {
              btn.classList.remove('bg-primary','text-white');
              btn.classList.add('bg-white');
              btn.removeAttribute('aria-current');
            }
            // visually disable page numbers beyond totalPages
            if(p > totalPages){
              btn.classList.add('opacity-50','pointer-events-none');
            } else {
              btn.classList.remove('opacity-50','pointer-events-none');
            }
          });
        }

        // wire filter buttons
        filterBtns.forEach(b=>{
          b.addEventListener('click', ()=>{
            const f = b.dataset.filter;
            currentFilter = f;
            currentPage = 1;
            // visual
            filterBtns.forEach(x=>{ x.classList.remove('bg-primary','text-white'); x.classList.add('bg-white'); x.setAttribute('aria-pressed','false'); });
            b.classList.add('bg-primary','text-white'); b.classList.remove('bg-white'); b.setAttribute('aria-pressed','true');
            render();
          });
        });

        // wire pagination
        pagePrev && pagePrev.addEventListener('click', ()=>{ currentPage = Math.max(1, currentPage-1); render(); });
        pageNext && pageNext.addEventListener('click', ()=>{ currentPage = currentPage+1; render(); });
        pageNumbers.forEach(btn=> btn.addEventListener('click', ()=>{ const p = Number(btn.dataset.page); currentPage = p; render(); }));

        // search input (real filtering)
        if(searchInput){
          let t;
          searchInput.addEventListener('input', (e)=>{
            clearTimeout(t);
            t = setTimeout(()=>{
              currentQuery = e.target.value || '';
              currentPage = 1;
              render();
            }, 150);
          });
        }

        // initial state
        // ensure 'Todas' visual active
        const allBtn = filterBtns.find(b=>b.dataset.filter==='all');
        if(allBtn){ allBtn.classList.add('bg-primary','text-white'); allBtn.setAttribute('aria-pressed','true'); }
        render();
      });
    </script>
    <script src="../js/script.js"></script>
  </body>
</html>
